<!DOCTYPE html>
<html>
<head>
  <title>Matrix</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    setInterval(function() {
      var coin = $("#coin-select").val();
      $.ajax({
        method: "GET",
        url: "/poll_matrix?coin=" + coin,
        success: function(response) {
          var matrix = JSON.parse(response);
          var headerRow = "<tr><th></th>";
          for (var key in matrix) {
            headerRow += "<th>" + key + "</th>";
          }
          headerRow += "</tr>";
          $("#matrix").html(headerRow);
          for (var key1 in matrix) {
            var row = "<tr><th>" + key1 + "</th>";
            for (var key2 in matrix[key1]) {
              row += "<td>" + matrix[key1][key2] + "</td>";
            }
            row += "</tr>";
            $("#matrix").append(row);
          }
        }
      });
    }, 5000);
  </script>
</head>
<body>
  <div class="header">
    <p>Welcome to our Cryptocurrency Matrix!</p>
    <p>Here you can easily compare different cryptocurrencies and see how they change over time.</p>
    <p>Select the cryptocurrency you would like to view:</p>
    <button class="btn">Button 1</button>
    <button class="btn">Button 2</button>
  </div>
  <p class="select-container">
    <select id="coin-select">
      {% for symbol in symbols %}
        <option value="{{ symbol }}">{{ symbol }}</option>
      {% endfor %}
    </select>
  </p>
  <table id="matrix"></table>
</body>
</html>